{% load static %}
<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simmer - Edit Recipe</title>
  <!--Bootstrap CDN-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'recipes/css/styles.css' %}">
</head>

<body>
  <div class="page-container">

    <!--Menubar-->
    {% include 'recipes/partials/menubar.html' %}

    <h2>{{ object.name }}</h2>

    <div class="page-container-row">
      <form method="POST" enctype="multipart/form-data" class="recipe-form">
        {% csrf_token %}

        <!-- NAME -->
        <div class="recipe-form-row">
          <label class="recipe-form-label">{{ form.name.label_tag }}</label>
          {{ form.name }}
        </div>

        <!-- COOKING TIME -->
        <div class="recipe-form-row">
          <label class="recipe-form-label">{{ form.cooking_time.label_tag }}(min)</label>
          {{ form.cooking_time }}
        </div>

        <!-- INGREDIENTS -->
        <div class="recipe-form-help">
          <p>
            Ingredients should be listed with a comma separating each ingredient. You do not need a space after each
            comma.
          </p>
          <p>For example:</p>
          <p>
            apples,oranges,peaches,lemons,limes
          </p>
        </div>

        <div class="recipe-form-row">
          <label class="recipe-form-label">{{ form.ingredients.label_tag }}</label>
          {{ form.ingredients }}
        </div>

        <!-- INSTRUCTIONS -->
        <div class="recipe-form-help">
          <p>
            When writing your instructions, use a numbered list for best results in displaying.
          </p>
          <p>For example:</p>
          <p>
          <ol>
            <li>First do this.</li>
            <li>Next, do this.</li>
            <li>Keep adding instructions like this.</li>
          </ol>
          </p>
        </div>

        <div class="recipe-form-row">
          <label class="recipe-form-label">{{ form.instructions.label_tag }}</label>
          {{ form.instructions }}
        </div>

        <!-- DIFFICULTY (Drop-down) -->
        <div class="recipe-form-row">
          <label class="recipe-form-label">{{ form.difficulty.label_tag }}</label>
          {{ form.difficulty }}
        </div>

        <!-- IMAGE UPLOAD -->
        <div class="recipe-form-row">
          <label class="recipe-form-label">Picture:</label>

          <div class="recipe-form-picture-input">
            {% if object.pic %}
            <div style="display:block;">
              <img src="{{ object.pic.url }}" class="recipe-form-image-preview">
            </div>
            {% endif %}
            <div style="display:block;">
              {{ form.pic }}
            </div>
          </div>

        </div>

        <div class="recipe-form-button-row">
          <button type="submit" class="custom-button">Update Recipe</button>
          <a href="{{ object.get_absolute_url }}" class="custom-button custom-button-red">Cancel</a>
        </div>
      </form>


      {% if error_message %}
      <div class="form-error">
        {{ error_message }}
      </div>
      {% endif %}
    </div>
  </div>

  <!-- Bootstrap JS Bundle (required for navbar toggler) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>

</body>

</html>